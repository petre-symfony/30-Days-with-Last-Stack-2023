{% props allowSmallWidth=false %}
<div {{ attributes.defaults({
  'data-controller': 'modal',
  'data-action': 'turbo:before-cache@window->modal#close'
}) }}
>
  {% block trigger %}{% endblock %}
  <dialog
      data-modal-target="dialog"
      class="
            open:flex bg-gray-800 rounded-lg shadow-xl inset-0 w-full
            md:w-fit md:max-w-[50%] {{ allowSmallWidth ? '' : 'md:min-w-[50%]' }}  animate-fade-in
            backdrop:bg-slate-600 backdrop:opacity-80
          "
      data-action="close->modal#close click->modal#clickOutside"
  >
    <div class="flex grow p-5">
      <div class="grow overflow-auto p-1">
        {% block content %}{% endblock %}
      </div>
    </div>
  </dialog>

  {% if block('loading_content') %}
    <template data-modal-target="loadingContent">
      {% block loading_content %}{% endblock %}
    </template>
  {% endif %}
</div>